<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>
        <record id="wizard_perijinan_checkout_form" model="ir.ui.view">
            <field name="name">wizard.cdn.perijinan.checkout.form</field>
            <field name="model">cdn.perijinan.checkout</field>
            <field name="arch" type="xml">
                <form string="Santri Keluar/Masuk">
                <div invisible="has_permission == 'Tidak Ada'">
                    <div class="alert alert-warning w-100" role="alert" style="margin-bottom: 0;"
                        invisible="not siswa_id or has_permission == 'Benar'">
                        <strong>⚠️ Perhatian!</strong> Santri tidak memiliki izin.
                    </div>
                    <div class="alert alert-primary w-100" role="alert" style="margin-bottom: 0;"
                        invisible="not siswa_id or has_permission == 'Salah'">
                        <strong>✅</strong> Santri memiliki izin
                    </div>     
                </div>  
                    <group string="Santri">
                        <group>         
                            <field name="barcode" />
                            <field name="siswa_id" string="Santri" options="{'no_create_edit':True, 'no_create':True, 'no_open':True}" context="{'default_partner_id': id}" />
                            <field name="kelas_id" />
                        </group>
                        <group>
                            <field name="kamar_id" />
                            <field name="halaqoh_id" string="Halaqah" />
                            <field name="musyrif_id" />
                        </group>
                    </group>
                    <group string="Keluar/Masuk">
                        <field name="keluar_masuk" string="Santri Keluar/Masuk" widget="radio" options="{'horizontal': true}"/>
                    </group>
                    <group>
                        <group>
                            <field name="tgl_ijin" />
                            <field name="tgl_kembali" />
                            <field name="lama_ijin" />
                        </group>
                        <group>
                            <field name="keperluan"/>
                            <label for="penjemput" string="Penjemput"/>
                            <div class="o_row">
                                <field name="penjemput" nolabel="1"/> 
                                <button string="-" name="action_button" type="object" class="oe_highlight"/>
                            </div>
                            <field name="catatan_keamanan"/>
                        </group>    
                    </group>
                    <footer>
                        <button name="action_checkout" string="Simpan" type="object" class="btn-primary"    />
                        <button string="Batal" class="btn-secondary" special="cancel" />
                    </footer>
                </form>
            </field>
        </record>
        <record id="action_wizard_perijinan_checkout" model="ir.actions.act_window">
            <field name="name">Santri Keluar/Masuk</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">cdn.perijinan.checkout</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="pesantren_kesantrian.wizard_perijinan_checkout_form" />
            <field name="target">new</field>
        </record>
        <menuitem id="wizard_checkout_menu_act" name="Santri Keluar/Masuk" parent="satpam_menu_root" action="action_wizard_perijinan_checkout" sequence="20" />
    </data>
</odoo>